import { isNumber } from '@mui/x-data-grid-pro/internals';
var sumAgg = {
  apply: function apply(_ref) {
    var values = _ref.values;
    var sum = 0;
    for (var i = 0; i < values.length; i += 1) {
      var value = values[i];
      if (isNumber(value)) {
        sum += value;
      }
    }
    return sum;
  },
  columnTypes: ['number']
};
var avgAgg = {
  apply: function apply(_ref2) {
    var values = _ref2.values;
    if (values.length === 0) {
      return null;
    }
    var sum = 0;
    var valuesCount = 0;
    for (var i = 0; i < values.length; i += 1) {
      var value = values[i];
      if (isNumber(value)) {
        valuesCount += 1;
        sum += value;
      }
    }
    return sum / valuesCount;
  },
  columnTypes: ['number']
};
var minAgg = {
  apply: function apply(_ref3) {
    var values = _ref3.values;
    if (values.length === 0) {
      return null;
    }
    var min = +Infinity;
    for (var i = 0; i < values.length; i += 1) {
      var value = values[i];
      if (value != null && value < min) {
        min = value;
      }
    }
    return min;
  },
  columnTypes: ['number', 'date', 'dateTime']
};
var maxAgg = {
  apply: function apply(_ref4) {
    var values = _ref4.values;
    if (values.length === 0) {
      return null;
    }
    var max = -Infinity;
    for (var i = 0; i < values.length; i += 1) {
      var value = values[i];
      if (value != null && value > max) {
        max = value;
      }
    }
    return max;
  },
  columnTypes: ['number', 'date', 'dateTime']
};
var sizeAgg = {
  apply: function apply(_ref5) {
    var values = _ref5.values;
    return values.filter(function (value) {
      return typeof value !== 'undefined';
    }).length;
  },
  valueFormatter: function valueFormatter(params) {
    if (params.value == null || !isNumber(params.value)) {
      return params.value;
    }
    return params.value.toLocaleString();
  },
  hasCellUnit: false
};
export var GRID_AGGREGATION_FUNCTIONS = {
  sum: sumAgg,
  avg: avgAgg,
  min: minAgg,
  max: maxAgg,
  size: sizeAgg
};